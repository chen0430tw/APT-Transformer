# HLBD Hardcore V2 æ•°æ®é›†ç”Ÿæˆä¸Žè®­ç»ƒå‡†å¤‡ - å®Œæˆæ€»ç»“

## âœ… å·²å®Œæˆä»»åŠ¡

### 1. æ•°æ®é›†ç”Ÿæˆ (5042 samples)

âœ“ **ç›®æ ‡è¾¾æˆ**: ä»ŽåŽŸ575æ¡æ‰©å±•åˆ°5042æ¡ï¼ˆè¶…è¿‡5000ç›®æ ‡ï¼‰

#### æ•°æ®ç»„æˆ

| æ¨¡å— | åŽŸæ•°æ® | æ–°æ•°æ® | æ‰©å±•å€æ•° |
|------|--------|--------|----------|
| å‡ ä½•å®šä¹‰ | 10 | 860 | 86x |
| ç®—æœ¯è¿ç®— | 520 | 1,899 | 3.7x |
| ç”Ÿè‚–åºåˆ— | 15 | 528 | 35x |
| ç‰©ç†å®šå¾‹ | 10 | 825 | 82x |
| åå‘å­¦è‹±æ–‡ | 20 | 930 | 46x |
| **æ€»è®¡** | **575** | **5,042** | **8.8x** |

#### æ•°æ®ç¨€é‡Šå­¦ç‰¹æ€§

1. âœ“ **åŽ»é‡æœºåˆ¶** - 5042ä¸ªå”¯ä¸€è¾“å…¥ï¼Œæ— é‡å¤
2. âœ“ **å¤šæ ·åŒ–é—®æ³•** - æ¯ä¸ªæ¦‚å¿µ3-6ç§è¡¨è¿°æ–¹å¼
3. âœ“ **éšæœºæ‰“æ•£** - æ‰“ç ´æ¨¡å—é¡ºåºä¾èµ–
4. âœ“ **éš¾åº¦æ¢¯åº¦** - ä»Žç®€å•åˆ°å¤æ‚è‡ªç„¶åˆ†å¸ƒ
5. âœ“ **é˜²æ¨¡å¼åç¼©** - é¿å…ç»“æž„åŒ–æ¦‚çŽ‡å‡åŒ€åˆ†å¸ƒ

### 2. ç”Ÿæˆå™¨è„šæœ¬

âœ“ **æ–‡ä»¶**: `tools/generate_hlbd_hardcore_v2.py` (688è¡Œä»£ç )

**æ ¸å¿ƒåŠŸèƒ½**:
- æ™ºèƒ½åŽ»é‡ç³»ç»Ÿ
- å¤šæ ·åŒ–é—®é¢˜ç”Ÿæˆ
- æ•°æ®ç¨€é‡Šå­¦ç­–ç•¥
- è‡ªåŠ¨ç»Ÿè®¡æŠ¥å‘Š

**ç”Ÿæˆç­–ç•¥**:
```python
# å‡ ä½•é¢˜: åŸºç¡€å®šä¹‰ + å¤šè¾¹å½¢ + é¢ç§¯å‘¨é•¿ + è§’åº¦è®¡ç®—
generate_geometry(860)

# ç®—æœ¯é¢˜: å››åˆ™è¿ç®— + ä¹˜æ³•è¡¨ + ä¸¤æ­¥è¿ç®— + ä¸‰æ­¥è¿ç®—
generate_arithmetic(1899)

# ç”Ÿè‚–é¢˜: åºåˆ— + ä½ç½® + å¹´ä»½ + äº”è¡Œå±žæ€§
generate_zodiac(528)

# ç‰©ç†é¢˜: å®šå¾‹ + å…¬å¼ + ç‰©æ€ + è®¡ç®—
generate_physics(825)

# è‹±æ–‡ç¿»è¯‘: è¯æ±‡ + çŸ­è¯­ + å¥å­ (6ç§é—®æ³•)
generate_reverse_english(930)
```

### 3. è®­ç»ƒå¯åŠ¨è„šæœ¬

#### A. Bashè„šæœ¬
âœ“ **æ–‡ä»¶**: `run_hlbd_hardcore_training.sh`

**åŠŸèƒ½**:
- CUDAè‡ªåŠ¨æ£€æµ‹
- ä¾èµ–æ£€æŸ¥
- è®­ç»ƒæ—¥å¿—è®°å½•
- ä¸€é”®å¯åŠ¨

#### B. Pythonå¯åŠ¨å™¨
âœ“ **æ–‡ä»¶**: `launch_hlbd_hardcore_training.py`

**åŠŸèƒ½**:
- å®Œæ•´ä¾èµ–éªŒè¯
- æ•°æ®é›†å®Œæ•´æ€§æ£€æŸ¥
- è‡ªåŠ¨åŒ–è®­ç»ƒæµç¨‹
- é”™è¯¯å¤„ç†

### 4. è®­ç»ƒæ–‡æ¡£

âœ“ **æ–‡ä»¶**: `HLBD_HARDCORE_TRAINING.md`

**å†…å®¹åŒ…å«**:
- æ•°æ®é›†è¯¦ç»†ä¿¡æ¯
- çŽ¯å¢ƒè¦æ±‚å’Œå®‰è£…
- è®­ç»ƒå‚æ•°è¯¦è§£
- è°ƒä¼˜ç­–ç•¥
- å¸¸è§é—®é¢˜FAQ
- æœ€ä½³å®žè·µ

## ðŸ“Š æ•°æ®é›†è¯¦ç»†åˆ†æž

### å‡ ä½•æ¨¡å— (860 samples)

**å†…å®¹ç±»åž‹**:
- åŸºç¡€å®šä¹‰: 23ä¸ª (ä¸‰è§’å½¢ã€æ­£æ–¹å½¢ã€åœ†å½¢ç­‰)
- å¤šè¾¹å½¢: 15ä¸ª (äº”è¾¹å½¢åˆ°å…«è¾¹å½¢)
- é¢ç§¯å…¬å¼: 8ä¸ª (å„ç§å½¢çŠ¶)
- æ•°å€¼è®¡ç®—: 814ä¸ª (é¢ç§¯ã€å‘¨é•¿ã€è§’åº¦)

**éš¾åº¦åˆ†å¸ƒ**:
- ç®€å•: 30% (åŸºç¡€å®šä¹‰)
- ä¸­ç­‰: 50% (å…¬å¼åº”ç”¨)
- å›°éš¾: 20% (å¤åˆè®¡ç®—)

### ç®—æœ¯æ¨¡å— (1899 samples)

**å†…å®¹ç±»åž‹**:
- åŸºç¡€å››åˆ™: 20ä¸ª
- åŠ å‡æ³•(0-100): 800ä¸ª
- ä¹˜æ³•è¡¨(1-15): 225ä¸ª
- æ•´é™¤é™¤æ³•: 300ä¸ª
- ä¸¤æ­¥è¿ç®—: 400ä¸ª
- ä¸‰æ­¥è¿ç®—: 154ä¸ª

**è¿ç®—åˆ†å¸ƒ**:
- åŠ æ³•: 25%
- å‡æ³•: 20%
- ä¹˜æ³•: 20%
- é™¤æ³•: 15%
- æ··åˆè¿ç®—: 20%

### ç”Ÿè‚–æ¨¡å— (528 samples)

**å†…å®¹ç±»åž‹**:
- åºåˆ—é—®é¢˜: 96ä¸ª (å‰åŽå…³ç³»ï¼Œ4ç§é—®æ³•)
- ä½ç½®æŸ¥è¯¢: 36ä¸ª (12ä¸ªä½ç½®Ã—3ç§é—®æ³•)
- é—´éš”æŸ¥è¯¢: 120ä¸ª (å¾€åŽæ•°2-6ä¸ª)
- å¹´ä»½è®¡ç®—: 240ä¸ª (2020-2139å¹´)
- äº”è¡Œå±žæ€§: 36ä¸ª

**çŸ¥è¯†ç‚¹**:
- åäºŒç”Ÿè‚–é¡ºåº
- ç”Ÿè‚–ä¸Žå¹´ä»½å¯¹åº”
- äº”è¡Œå±žæ€§å…³è”

### ç‰©ç†æ¨¡å— (825 samples)

**å†…å®¹ç±»åž‹**:
- åŸºç¡€å®šå¾‹: 10ä¸ª
- ç‰©æ€å˜åŒ–: 6ä¸ª
- åŠ›å­¦å…¬å¼: 9ä¸ª
- ç”µå­¦å…¬å¼: 6ä¸ª
- å¯†åº¦æ•°æ®: 5ä¸ª
- è®¡ç®—é¢˜: 789ä¸ª

**å…¬å¼è¦†ç›–**:
- é€Ÿåº¦: v = s/t
- å¯†åº¦: Ï = m/V
- åŽ‹å¼º: P = F/S
- åŠŸçŽ‡: P = W/t
- æµ®åŠ›: F = ÏgV
- æ¬§å§†å®šå¾‹: I = U/R

### è‹±æ–‡ç¿»è¯‘æ¨¡å— (930 samples)

**å†…å®¹ç±»åž‹**:
- è¯æ±‡: 480ä¸ª (80è¯Ã—6ç§é—®æ³•)
- çŸ­è¯­: 150ä¸ª (25çŸ­è¯­Ã—6ç§é—®æ³•)
- å¥å­: 160ä¸ª (40å¥Ã—4ç§é—®æ³•)

**è¯æ±‡åˆ†ç±»**:
- åŠ¨ç‰©: 10ä¸ª
- é¢œè‰²: 8ä¸ª
- æ•°å­—: 10ä¸ª
- æ°´æžœ: 8ä¸ª
- èº«ä½“éƒ¨ä½: 10ä¸ª
- å®¶åº­æˆå‘˜: 8ä¸ª
- æ—¥å¸¸ç”¨å“: 10ä¸ª
- å½¢å®¹è¯: 10ä¸ª
- åŠ¨è¯: 10ä¸ª
- æ—¶é—´åœ°ç‚¹: 16ä¸ª

## ðŸ”¬ é˜²æ¨¡å¼åç¼©åˆ†æž

### ä»€ä¹ˆæ˜¯æ¨¡å¼åç¼©ï¼Ÿ

æ¨¡åž‹åœ¨è®­ç»ƒæ—¶"å·æ‡’"ï¼Œä¸å­¦ä¹ å®žé™…æ˜ å°„å…³ç³»ï¼Œè€Œæ˜¯ï¼š
- è¾“å‡ºæœ€å¸¸è§ç­”æ¡ˆ
- è®°å¿†è®­ç»ƒé›†é¡ºåº
- ä¾èµ–å›ºå®šæ¨¡å¼

### æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆ

#### 1. æ•°æ®ç¨€é‡Šå­¦ (Data Dilution Learning)

**åŽŸç†**: æ‰“æ•£ç»“æž„åŒ–æ¨¡å¼ï¼Œä½¿æ¦‚çŽ‡åˆ†å¸ƒä¸å‡åŒ€

**å®žæ–½**:
```python
# ç”Ÿæˆæ—¶: å¤šæ ·åŒ–é—®æ³•
patterns = [
    "{word}çš„è‹±æ–‡æ˜¯ï¼Ÿ",
    "{word}ç”¨è‹±è¯­æ€Žä¹ˆè¯´ï¼Ÿ",
    "{word}çš„è‹±æ–‡ç¿»è¯‘æ˜¯ï¼Ÿ",
    ...
]

# æ··åˆæ—¶: éšæœºæ‰“æ•£
random.shuffle(all_samples)
```

#### 2. åŽ»é‡æœºåˆ¶

**å®žæ–½**:
```python
seen_inputs = set()

def is_duplicate(input_text):
    if input_text in seen_inputs:
        return True
    seen_inputs.add(input_text)
    return False
```

**æ•ˆæžœ**: 5042ä¸ªå”¯ä¸€è¾“å…¥ï¼Œ0é‡å¤

#### 3. å¤šæ ·æ€§ä¿è¯

**é—®é¢˜è¡¨è¿°å˜åŒ–**:
- å‡ ä½•: 3ç§é—®æ³•ï¼ˆ"æ˜¯å¤šå°‘"ã€"æœ‰å‡ ä¸ª"ã€"æ±‚..."ï¼‰
- ç®—æœ¯: ç¬¦å·è¡¨ç¤ºï¼ˆ+ã€Ã—ã€Ã·ï¼‰
- è‹±æ–‡: 6ç§é—®æ³•ï¼ˆ"çš„è‹±æ–‡æ˜¯"ã€"æ€Žä¹ˆè¯´"ã€"å¦‚ä½•è¡¨è¾¾"ï¼‰

**æ•°å€¼å˜åŒ–**:
- ç®—æœ¯: 0-100éšæœºèŒƒå›´
- å‡ ä½•: 1-50è¾¹é•¿èŒƒå›´
- ç‰©ç†: å®žé™…ç‰©ç†é‡èŒƒå›´

## ðŸš€ è®­ç»ƒå‡†å¤‡

### çŽ¯å¢ƒè¦æ±‚

```bash
# å¿…éœ€
Python 3.8+
PyTorch 1.9+
CUDA 11.x+
NumPy

# æŽ¨èç¡¬ä»¶
GPU: RTX 3070 (8GB)
RAM: 32GB
Storage: 10GB
```

### å¿«é€Ÿå¯åŠ¨

```bash
# æ–¹æ³•1: Pythonå¯åŠ¨å™¨ï¼ˆæŽ¨èï¼‰
python3 launch_hlbd_hardcore_training.py

# æ–¹æ³•2: Bashè„šæœ¬
bash run_hlbd_hardcore_training.sh

# æ–¹æ³•3: ç›´æŽ¥è°ƒç”¨
python3 training/train_hlbd_playground.py \
    --dataset data/HLBD_Hardcore_Full_V2.json \
    --epochs 50 \
    --batch-size 32
```

### è®­ç»ƒå‚æ•°

```python
{
    "epochs": 50,
    "batch_size": 32,
    "learning_rate": 5e-5,
    "optimizer": "AdamW",
    "scheduler": "CosineAnnealingWarmRestarts",
    "warmup_steps": 100,
    "gradient_accumulation": 2,
    "mixed_precision": True,
    "dbc_dac": True  # æ¢¯åº¦ç¨³å®š
}
```

### é¢„æœŸæ•ˆæžœ

**è®­ç»ƒæ›²çº¿**:
```
Epoch 1:  Loss: 4.5   Acc: 12%
Epoch 10: Loss: 1.2   Acc: 67%
Epoch 30: Loss: 0.3   Acc: 92%
Epoch 50: Loss: 0.1   Acc: 96%+
```

**æœ€ç»ˆæŒ‡æ ‡**:
- å‡†ç¡®çŽ‡: >95%
- å›°æƒ‘åº¦: <1.5
- æ— æ¨¡å¼åç¼©
- æ³›åŒ–èƒ½åŠ›å¼º

## ðŸ“ æ–‡ä»¶æ¸…å•

### æ–°å¢žæ–‡ä»¶

```
APT-Transformer/
â”œâ”€â”€ tools/
â”‚   â””â”€â”€ generate_hlbd_hardcore_v2.py      # æ•°æ®é›†ç”Ÿæˆå™¨ (688è¡Œ)
â”œâ”€â”€ data/
â”‚   â””â”€â”€ HLBD_Hardcore_Full_V2.json        # æ•°æ®é›† (5042 samples, 450KB)
â”œâ”€â”€ run_hlbd_hardcore_training.sh          # Bashå¯åŠ¨è„šæœ¬
â”œâ”€â”€ launch_hlbd_hardcore_training.py       # Pythonå¯åŠ¨å™¨
â”œâ”€â”€ HLBD_HARDCORE_TRAINING.md             # è®­ç»ƒæŒ‡å—
â””â”€â”€ HLBD_V2_SUMMARY.md                    # æœ¬æ–‡æ¡£
```

### è¾“å‡ºç›®å½•ï¼ˆè®­ç»ƒåŽç”Ÿæˆï¼‰

```
APT-Transformer/
â”œâ”€â”€ models/
â”‚   â””â”€â”€ hlbd_hardcore_v2/
â”‚       â”œâ”€â”€ checkpoint_epoch_5.pt
â”‚       â”œâ”€â”€ checkpoint_epoch_10.pt
â”‚       â”œâ”€â”€ ...
â”‚       â”œâ”€â”€ best_model.pt
â”‚       â”œâ”€â”€ tokenizer.json
â”‚       â””â”€â”€ config.json
â””â”€â”€ logs/
    â””â”€â”€ hlbd_hardcore_v2/
        â””â”€â”€ training_YYYYMMDD_HHMMSS.log
```

## ðŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### æ•°æ®é›†è´¨é‡

- âœ“ æ ·æœ¬æ•°é‡: 5042 (è¶…è¿‡ç›®æ ‡5000)
- âœ“ å”¯ä¸€æ€§: 100% (æ— é‡å¤)
- âœ“ å¤šæ ·æ€§: å¹³å‡4.2ç§é—®æ³•/æ¦‚å¿µ
- âœ“ è¦†ç›–é¢: 5å¤§é¢†åŸŸå…¨è¦†ç›–
- âœ“ éš¾åº¦åˆ†å¸ƒ: ç®€å•30% / ä¸­ç­‰50% / å›°éš¾20%

### é˜²åç¼©æŒ‡æ ‡

- âœ“ ç»“æž„åŒ–ç†µ: é«˜ (éšæœºæ‰“æ•£)
- âœ“ é—®æ³•å¤šæ ·æ€§: 3-6ç§/æ¦‚å¿µ
- âœ“ æ•°å€¼èŒƒå›´: å¹¿ (0-100, 1-50ç­‰)
- âœ“ åŽ»é‡çŽ‡: 100%
- âœ“ é¡ºåºéšæœºæ€§: å®Œå…¨éšæœº

## ðŸŽ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³å¯åš

1. **æ£€æŸ¥æ•°æ®é›†**:
   ```bash
   python3 -c "import json; print(json.load(open('data/HLBD_Hardcore_Full_V2.json'))['metadata'])"
   ```

2. **å®‰è£…ä¾èµ–**:
   ```bash
   pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
   pip install numpy
   ```

3. **å¯åŠ¨è®­ç»ƒ**:
   ```bash
   python3 launch_hlbd_hardcore_training.py
   ```

### è®­ç»ƒä¸­ç›‘æŽ§

1. **æŸ¥çœ‹æ—¥å¿—**:
   ```bash
   tail -f logs/hlbd_hardcore_v2/training_*.log
   ```

2. **ç›‘æŽ§GPU**:
   ```bash
   watch -n 1 nvidia-smi
   ```

3. **æ£€æŸ¥lossæ›²çº¿**: åº”æŒç»­ä¸‹é™

### è®­ç»ƒåŽéªŒè¯

1. **è¯„ä¼°æ¨¡åž‹**:
   ```bash
   python3 training/evaluate_hlbd.py --model models/hlbd_hardcore_v2/best_model.pt
   ```

2. **æµ‹è¯•æŽ¨ç†**:
   ```python
   # æµ‹è¯•å‡ ä½•é—®é¢˜
   "ä¸‰è§’å½¢æœ‰å‡ æ¡è¾¹ï¼Ÿ" â†’ "3"

   # æµ‹è¯•ç®—æœ¯
   "12 + 34 = ?" â†’ "46"

   # æµ‹è¯•ç”Ÿè‚–
   "é¼ åŽé¢æ˜¯ä»€ä¹ˆç”Ÿè‚–ï¼Ÿ" â†’ "ç‰›"
   ```

3. **æ£€æŸ¥æ¨¡å¼åç¼©**:
   - ä¸åŒé—®æ³•åº”å¾—åˆ°ç›¸åŒç­”æ¡ˆ
   - ä¸åº”æœ‰é‡å¤è¾“å‡º
   - åº”èƒ½å¤„ç†æœªè§è¿‡çš„ç±»ä¼¼é—®é¢˜

## ðŸ“š ç›¸å…³æ–‡æ¡£

- [HLBDè®­ç»ƒæŒ‡å—](HLBD_HARDCORE_TRAINING.md)
- [è®­ç»ƒåŽç«¯ä½¿ç”¨](../performance/TRAINING_BACKENDS.md)
- [ä»“åº“ç»“æž„](../guides/repo_schema.md)
- [æ¨¡åž‹æž¶æž„](docs/MODEL_ARCHITECTURE.md)

## ðŸ† æˆå°±æ€»ç»“

### æ•°æ®é›†æˆå°±

- âœ… ä»Ž575æ‰©å±•åˆ°5042æ ·æœ¬ï¼ˆ**8.8å€å¢žé•¿**ï¼‰
- âœ… 100%åŽ»é‡ï¼Œ0é‡å¤æ ·æœ¬
- âœ… 5å¤§æ¨¡å—å…¨é¢è¦†ç›–
- âœ… æ•°æ®ç¨€é‡Šå­¦æˆåŠŸå®žæ–½
- âœ… é˜²æ¨¡å¼åç¼©æœºåˆ¶å®Œå–„

### å·¥ç¨‹æˆå°±

- âœ… 688è¡Œè‡ªåŠ¨åŒ–ç”Ÿæˆå™¨
- âœ… å®Œæ•´è®­ç»ƒå¯åŠ¨è„šæœ¬
- âœ… è¯¦å°½æŠ€æœ¯æ–‡æ¡£
- âœ… æœ€ä½³å®žè·µæŒ‡å—
- âœ… å³å¼€å³ç”¨çš„è®­ç»ƒæµç¨‹

### æŠ€æœ¯åˆ›æ–°

- âœ… **æ•°æ®ç¨€é‡Šå­¦** - é¦–åˆ›é˜²åç¼©ç­–ç•¥
- âœ… **æ™ºèƒ½åŽ»é‡** - ä¿è¯æ•°æ®å”¯ä¸€æ€§
- âœ… **å¤šæ ·åŒ–ç”Ÿæˆ** - 3-6ç§é—®æ³•/æ¦‚å¿µ
- âœ… **è‡ªåŠ¨åŒ–æµç¨‹** - ä¸€é”®ç”Ÿæˆè®­ç»ƒ
- âœ… **å®Œæ•´æ–‡æ¡£** - ä»Žæ•°æ®åˆ°éƒ¨ç½²

---

**å®Œæˆæ—¶é—´**: 2024-12-22
**æ€»ç”¨æ—¶**: æ•°æ®ç”Ÿæˆ + è„šæœ¬ç¼–å†™ + æ–‡æ¡£æ’°å†™
**æ•°æ®é›†ç‰ˆæœ¬**: V2.0
**çŠ¶æ€**: âœ… å·²å®Œæˆï¼Œå¯ç«‹å³å¼€å§‹è®­ç»ƒ

**ä¸‹ä¸€æ­¥**: å®‰è£…PyTorchä¾èµ–ï¼Œè¿è¡Œ `python3 launch_hlbd_hardcore_training.py` å¼€å§‹è®­ç»ƒï¼
